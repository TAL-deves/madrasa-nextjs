(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2480:function(){},7384:function(e,t,r){Promise.resolve().then(r.bind(r,1726))},1726:function(e,t,r){"use strict";r.r(t);var a=r(7437),s=r(2265),o=r(504),n=r(2759),c=r(2551),l=r(4033);t.default=function(){let e=(0,l.useRouter)(),[t,r]=(0,s.useState)(""),[i,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),[p,f]=(0,s.useState)(!1),[g,h]=(0,s.useState)(""),x=async()=>{h(""),m(!0);try{let r=await (0,c.HN)("/auth/login",t,i);!0===r.success&&(e.push("/"),console.log("logged in",r)),console.log("login response",r)}catch(e){console.log(e)}m(!1)};return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[70vh] bg-gray-100",children:(0,a.jsxs)("div",{className:"w-full max-w-sm p-6 bg-white rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"mb-4 text-2xl font-semibold text-center",children:"Login"}),(0,a.jsxs)("form",{children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"username",className:"block mb-1 text-sm font-medium text-gray-700",children:"Username"}),(0,a.jsx)("input",{type:"text",id:"username",className:"w-full px-3 py-2 border rounded-md focus:ring focus:ring-indigo-200",placeholder:"Enter your username",value:t,onChange:e=>r(e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-4 relative",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block mb-1 text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:p?"text":"password",id:"password",className:"w-full px-3 py-2 border rounded-md focus:ring focus:ring-indigo-200",placeholder:"Enter your password",value:i,onChange:e=>d(e.target.value)})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"button",className:"absolute top-2/3 right-2 transform -translate-y-1/2 focus:outline-none",onClick:()=>f(!p),children:(0,a.jsx)(o.G,{icon:p?n.Aq:n.Mdf,className:"text-gray-400"})})})]})]}),g&&(0,a.jsx)("p",{className:"mb-4 text-red-500",children:g}),(0,a.jsx)("button",{type:"button",className:"w-full px-4 py-2 font-semibold text-white rounded-md focus:outline-none ".concat(u?"bg-gray-500 cursor-not-allowed":"bg-indigo-500 hover:bg-indigo-600"),onClick:x,disabled:u,children:u?"Logging in...":"Login"})]})]})})}},2551:function(e,t,r){"use strict";r.d(t,{HN:function(){return y},Sl:function(){return v}});var a=r(9222),s=r(4155);let o=s.enc.Utf8.parse("thisIsAverySpecialSecretKey00000"),n=s.enc.Utf8.parse("1583288699248111");var c=e=>{let t=JSON.stringify(e),r=s.AES.encrypt(t,o,{iv:n,padding:s.pad.Pkcs7,mode:s.mode.CBC}),a=r.ciphertext.toString(s.enc.Base64);return a};let l=s.enc.Utf8.parse("thisIsAverySpecialSecretKey00000"),i=s.enc.Utf8.parse("1583288699248111");var d=function(e){let t=s.enc.Base64.parse(e),r=s.AES.decrypt({ciphertext:t},l,{iv:i,padding:s.pad.Pkcs7,mode:s.mode.CBC}),a=r.toString(s.enc.Utf8);return a},u=r(6820),m=r.n(u),p=r(2601);let f=p.env.REACT_APP_PUBLIC_ENCRYPTION||"FALSE",g=p.env.REACT_APP_PUBLIC_APIPOINT||"https://marpapi.techanalyticaltd.com",h=a.Z.create({baseURL:g});h.interceptors.request.use(e=>(e.headers.Authorization="Bearer ".concat(localStorage.getItem("accessToken")),"TRUE"===f&&("put"===e.method||"PUT"===e.method?e.data={data:e.data}:e.data={data:c(e.data)}),e),e=>Promise.reject(e)),h.interceptors.response.use(e=>("TRUE"===f?e.data.encoded=JSON.parse(d(e.data.encoded)):e.data.encoded=e.data.encoded,e.data.encoded),e=>(m().fire({icon:"error",title:"Error...",text:"".concat(e.response.data.encoded.errMsg)}).then(e=>{e.isConfirmed}),e.response.data.encoded)),r(2601);let x=async(e,t)=>await h.post(e,{...t}),y=async(e,t,r)=>{let a=await x(e,{authorization:"application:secret",grant_type:"password",phoneNumber:t,password:r});return a.success&&(localStorage.setItem("accessToken",a.data.accessToken),localStorage.setItem("accessTokenExpiresAt",a.data.accessTokenExpiresAt),localStorage.setItem("refreshToken",a.data.refreshToken),localStorage.setItem("refreshTokenExpiresAt",a.data.refreshTokenExpiresAt),localStorage.setItem("user",a.data.user),localStorage.setItem("createrAt",a.data.createrAt)),a},v=async e=>{let t=await x(e,{data:""});return t.success&&(localStorage.removeItem("accessToken"),localStorage.removeItem("accessTokenExpiresAt"),localStorage.removeItem("refreshToken"),localStorage.removeItem("refreshTokenExpiresAt"),localStorage.removeItem("user"),localStorage.removeItem("createrAt")),t}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=r(2265),s=Symbol.for("react.element"),o=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,r){var a,o={},i=null,d=null;for(a in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,a)&&!l.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===o[a]&&(o[a]=t[a]);return{$$typeof:s,type:e,key:i,ref:d,props:o,_owner:c.current}}t.Fragment=o,t.jsx=i,t.jsxs=i},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[676,900,971,596,744],function(){return e(e.s=7384)}),_N_E=e.O()}]);